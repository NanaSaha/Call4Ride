<ion-header>
  <ion-toolbar>
    <ion-title>Driver Navigation</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-card>
    <ion-card-content>
      <div #directionsPanel></div>
    </ion-card-content>
  </ion-card> -->
  <!-- <div id="floating-panel">
    <b>Start: </b>
    <select
      [(ngModel)]="start"
      id="start"
      (change)="calculateAndDisplayRoute(start,end)"
    >
      <option value="chicago, il">Chicago</option>
      <option value="st louis, mo">St Louis</option>
      <option value="joplin, mo">Joplin, MO</option></select
    ><br />
    <b>End: </b>
    <select
      [(ngModel)]="end"
      id="end"
      (change)="calculateAndDisplayRoute(start,end)"
    >
      <option value="chicago, il">Chicago</option>
      <option value="st louis, mo">St Louis</option>
      <option value="joplin, mo">Joplin, MO</option>
      <option value="oklahoma city, ok">Oklahoma City</option>
    </select>
  </div> -->

  <div #map id="map"></div>

  <div class="buttonOnMap">
    <ion-button
      color="warning"
      expand="block"
      (click)="startTracking()"
      *ngIf="!isTracking"
    >
      <ion-icon name="locate" slot="start"></ion-icon>
      Start Tracking
    </ion-button>

    <ion-button
      color="danger"
      expand="block"
      (click)="stopTracking()"
      *ngIf="isTracking"
    >
      <ion-icon name="hand-right-outline" slot="start"></ion-icon>

      Stop Tracking .......
    </ion-button>
  </div>

  <ion-list>
    <ion-item-sliding *ngFor="let pos of locations  | async">
      <ion-item>
        <ion-label text-wrap>
          <p>Lat: {{pos.lat}}</p>
          <p>Lng: {{pos.lng}}</p>
          <p>{{pos.timestamp | date: 'short'}}</p>
        </ion-label>
      </ion-item>

      <ion-item-options side="start">
        <ion-item-option color="danger" (click)="deleteLoc(pos)">
          <ion-icon name="trash" slot="icon-only"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
